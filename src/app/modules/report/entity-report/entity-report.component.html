<app-loader></app-loader>

<app-parent-heading [genericHeading]="headings" [showControl]="false"></app-parent-heading>

  <div *ngIf="entityResult"  >
    <div class="col-xs-12">
        <h3>{{summary.schoolName}}</h3>
        <h6>Date of Assignment   {{summary.generatedAt}}</h6>
    </div>
   
    <span class="col-xs-12 marginTop" *ngFor="let chart of entityResult">
        <mat-card *ngIf="chart.reportType === 'tableGraph'">

            <table>
                <tr>
                  <th>{{chart.keydomainName}}</th>
                  <th>{{chart.tabularData.valueColumn}}</th>
                  
                </tr>
                <tr *ngFor="let tableData of chart.tabularData.data">
                  <td>{{tableData.domainName}}</td>
                  <td>{{tableData.value}}</td>
                </tr>
              </table>

            <google-chart  (ready)="onReady()" class="marginChart" [options]="chart.graphData.chartOptions"  style="width : 100%; height: 500px;" 
            [title]="'Schools Chart'"
              [data]="chart.graphData.data" [type]="chart.graphData.chartType"
              [columnNames]="chart.graphData.columnName">
            </google-chart>
      
        </mat-card>

        <mat-card *ngIf="chart.reportType === 'table'">
          <table>
            <tr>
              <th *ngFor="let label of chart.keydomainName">{{label}}</th>
            </tr>
            <tr *ngFor="let tableData of chart.tabularData">
              <td>{{tableData.valueColumn}}</td>
              <td *ngFor="let tableValue of tableData.levels">{{tableValue.value}}</td>
            </tr>
          </table>
        </mat-card>
    </span>
   

  </div>
