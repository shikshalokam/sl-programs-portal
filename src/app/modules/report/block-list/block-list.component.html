<app-loader></app-loader>
<app-parent-heading [genericHeading]="headings" [showControl]="true"></app-parent-heading>

<div class="margin" *ngIf="blockList">
  <div *ngFor="let block of blockList;let index = index" class="margin">
    <mat-expansion-panel [expanded]="selectedZoneIndex === index" (opened)="getSchoolList(block.id)"
      class="blockExpansion">
      <mat-expansion-panel-header (click)="selectedZoneIndex=index">
        <mat-panel-title class="textOverflow title">
          {{block.label}}
        </mat-panel-title>
      </mat-expansion-panel-header>
      <mat-spinner *ngIf="!dataSource"></mat-spinner>
      <div class="tableWrapper" *ngIf="dataSource">
        <!-- Table component -->
      <div *ngIf="apidata">
        <!-- <app-table [apidata]="apidata" [link]="links"></app-table> -->
        <app-table [apidata]="apidata" [dataSource]="dataSource" [link]="links"></app-table>
      </div>
      </div>
    </mat-expansion-panel>
  </div>
</div>
