<app-loader></app-loader>

<app-parent-heading [genericHeading]="headings" [showControl]="false"></app-parent-heading>

<div>
  <div class="_flex-box _justify-content-space-between">
    <h4 class="marginTop" style="flex:1">{{'headings.performanceReport' | translate}}</h4>
    <button mat-button color="primary"
      (click)="naviagteToRubrics()">{{'headings.frameworkRubricView' | translate}}</button>
      <app-share-link></app-share-link>
  </div>
  <div>
    <mat-card>
      <mat-list class="middle">
        <mat-list-item *ngFor="let item of highLevelInsight?.summary;let last = last;">
          <div class="_flex-box _full-width">
            <div style="flex:1">
              {{item?.title}}
            </div>
            <div style="flex:2">
              <b>{{item?.value}}</b>
            </div>
          </div>
          <mat-divider *ngIf="!last"></mat-divider>

        </mat-list-item>
      </mat-list>
    </mat-card>
  </div>
  <div class="col-xs-12 _flex-box _flex-end _small-Top-Margin" ></div>

  <div class="col-xs-12 marginTop" *ngFor="let section of highLevelInsight?.sections">
    <mat-card class="containerAdj">
      <mat-card-title class="title _capitalize">
        {{section?.heading}}
      </mat-card-title>

      <mat-divider *ngIf="section?.heading"></mat-divider>
      <mat-card-content>
        <!-- <h3 class="_full-width textColor" > Summary</h3> -->

        <div class="_flex-box  _justify-content-center _margin-top _margin-bottom ">
          <mat-list class="halfContainer" *ngIf="section?.summary?.length">
            <mat-list-item role="listitem">
              <h5>Summary</h5>
              <mat-divider></mat-divider>
            </mat-list-item>
            <mat-list-item *ngFor="let header of section?.summary; let last = last" class="_flex-box" role="listitem">

              <div class="_flex-box _full-width">
                <div style="flex:3" class="smallFont">
                  {{header?.label}}
                </div>
                <div style="flex:1" class="_flex-box _justify-content-center">
                  <b>{{header?.value}}</b>
                </div>
              </div>
              <mat-divider *ngIf="!last"></mat-divider>
            </mat-list-item>
          </mat-list>
        </div>
        <app-graph-table-chart [section]="section"></app-graph-table-chart>

      </mat-card-content>
    </mat-card>
  </div>


</div>